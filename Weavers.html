<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CS-81 Final Project</title>

<style>canvas { background: #eee; display: block; margin: 0 auto; } </style>

</head>

<body  background="bgimg.jpg" oncontextmenu="return false;">


<center>

    <img src="Head.png" />
    <canvas id="myCanvas" width="400" height="550" style="border: 1px solid #000000;"></canvas>
    <p />
    <img src="Button.png" onclick="location.reload();" border="2" />

</center>

<script>

    var canvas = document.getElementById("myCanvas");

    canvas.addEventListener("mousedown", getPosition, false);
    window.addEventListener("keydown", spaceBar, true);


    function getPosition(event) {

        var a = event.pageX;
        var b = event.pageY;

        a -= canvas.offsetLeft;
        b -= canvas.offsetTop;

        getMouseButt();

        function getMouseButt() {

            var sTestEventType = 'mousedown';

            function mousePress(e) {

                var evt = (e == null ? event : e);
                var clickType = 'left';
                if (evt.type != sTestEventType) return true;
                if (evt.which) {
                    if (evt.which == 3) clickType = 'right';
                    if (evt.which == 2) clickType = 'middle';
                }
                else if (evt.button) {
                    if (evt.button == 2) clickType = 'right';
                    if (evt.button == 4) clickType = 'middle';
                }

                makeLine();

                function makeLine() {

                    var startX = a;
                    var startY = b;
                    var edgeL = 0;
                    var edgeT = 0;

                    var c = document.getElementById("myCanvas");
                    var ctx = c.getContext("2d");

                    if (clickType == "left") {
                        var endX = canvas.width;
                        var endY = b;

                        hLine();
                    }

                    if (clickType == "right") {
                        var endX = a;
                        var endY = canvas.height;

                        vLine();
                    }

                    function hLine() {
                        ctx.beginPath();
                        ctx.moveTo(startX, startY);
                        ctx.lineTo(endX, endY);
                        ctx.lineTo(edgeL, endY);
                        ctx.strokeStyle = "darkblue";
                        ctx.stroke();

                  }

                    function vLine() {
                        ctx.beginPath();
                        ctx.moveTo(startX, startY);
                        ctx.lineTo(endX, endY);
                        ctx.lineTo(startX, edgeT);
                        ctx.strokeStyle = "brown";
                        ctx.stroke();
                    }
                }

                return(true);
            }

            document.onmousedown = mousePress;
        }

    }

    function playBall() {

        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        var x = canvas.width / 2;
        var y = canvas.height - 25;
        var dx = 3;
        var dy = -3;

        var ballRadius = 3;

        function drawBall() {

            ctx.beginPath();
            ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
            ctx.fillStyle = "#FFCC22";
            ctx.fill();
            ctx.closePath();
        }

        function drawB() {

         //   ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBall();
            x += dx;
            y += dy;

            if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {
                dx = -dx;
            }
            if (y + dy > canvas.height - ballRadius || y + dy < ballRadius) {
                dy = -dy;
            }
        }

        setInterval(drawB, 40);
    }

     function playBall2() {

        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        var x = canvas.width / 8;
        var y = canvas.height - 130;
        var dx = 2;
        var dy = -2;

        var ballRadius = 3;

        function drawBall2() {

            ctx.beginPath();
            ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
            ctx.fillStyle = "#666666";
            ctx.fill();
            ctx.closePath();
        }

        function drawB2() {

            //   ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBall2();
            x += dx;
            y += dy;

            if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {
                dx = -dx;
            }
            if (y + dy > canvas.height - ballRadius || y + dy < ballRadius) {
                dy = -dy;
            }
        }

        setInterval(drawB2, 55);
    }


    function playBall3() {

        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        var x = canvas.width / 2;
        var y = canvas.height - 250;
        var dx = 2;
        var dy = -2;

        var ballRadius = 2;

        function drawBall3() {

            ctx.beginPath();
            ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
            ctx.fillStyle = "#336600";
            ctx.fill();
            ctx.closePath();
        }

        function drawB3() {

            //   ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBall3();
            x += dx;
            y += dy;

            if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {
                dx = -dx;
            }
            if (y + dy > canvas.height - ballRadius || y + dy < ballRadius) {
                dy = -dy;
            }
        }

        setInterval(drawB3, 50);
    }


    function playBall4() {

        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        var x = canvas.width / 12;
        var y = canvas.height - 50;
        var dx = 2;
        var dy = -2;

        var ballRadius = 2;

        function drawBall4() {

            ctx.beginPath();
            ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
            ctx.fillStyle = "#AA0000";
            ctx.fill();
            ctx.closePath();
        }

        function drawB4() {

            //   ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBall4();
            x += dx;
            y += dy;

            if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {
                dx = -dx;
            }
            if (y + dy > canvas.height - ballRadius || y + dy < ballRadius) {
                dy = -dy;
            }
        }

        setInterval(drawB4, 20);
    }


    function playBall5() {

        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        var x = canvas.width / 1;
        var y = canvas.height - 25;
        var dx = 2;
        var dy = -2;

        var ballRadius = 1;

        function drawBall5() {

            ctx.beginPath();
            ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
            ctx.fillStyle = "#00AA00";
            ctx.fill();
            ctx.closePath();
        }

        function drawB5() {

            //   ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBall5();
            x += dx;
            y += dy;

            if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {
                dx = -dx;
            }
            if (y + dy > canvas.height - ballRadius || y + dy < ballRadius) {
                dy = -dy;
            }
        }

        setInterval(drawB5, 70);
    }


    function playBall6() {

        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        var x = canvas.width / 10;
        var y = canvas.height - 30;
        var dx = 2;
        var dy = -2;

        var ballRadius = 5;

        function drawBall6() {

            ctx.beginPath();
            ctx.arc(x, y, ballRadius, 0, Math.PI * 2);
            ctx.fillStyle = "#0000AA";
            ctx.fill();
            ctx.closePath();
        }

        function drawB6() {

            //   ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawBall6();
            x += dx;
            y += dy;

            if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {
                dx = -dx;
            }
            if (y + dy > canvas.height - ballRadius || y + dy < ballRadius) {
                dy = -dy;
            }
        }

        setInterval(drawB6, 20);
    }


    function spaceBar() {
        document.body.onkeydown = function(e){

            if(e.keyCode == 40){  // down arrow
                playBall();
            }
            if(e.keyCode == 32){  // spacebar
                playBall2();
            }
            if(e.keyCode == 38){ // up arrow
                playBall3();
            }
            if(e.keyCode == 37){ // left arrow
                playBall4();
            }
            if(e.keyCode == 39){  // right arrow
                playBall5();
            }
            if(e.keyCode == 16){  // left shift
                playBall6();
            }
            if(e.keyCode == 13){  // right shift
                playBall6();
            }
        }
    }

</script>

</body>
</html>